{% extends "base.html" %}
{% block title %}Agendar Cita{% endblock %}
{% block content %}

<h2>Agendar Cita</h2>
<form method="post">
    <label for="client_id">Cliente:</label>
    <select id="client_id" name="client_id" required>
        {% for client in clients %}
        <option value="{{ client.id }}">{{ client.name }}</option>
        {% endfor %}
    </select>

    <label for="pet_id">Mascota:</label>
    <select id="pet_id" name="pet_id" required>
        {% for pet in pets %}
        <option value="{{ pet.id }}">{{ pet.name }}</option>
        {% endfor %}
    </select>

    <label for="service_id">Servicio:</label>
    <select id="service_id" name="service_id" required>
        <optgroup label="Servicios inmediatos">
            {% for service in services %}
                {% if service.attention_type == 'inmediato' %}
                    <option value="{{ service.id }}">{{ service.name }}</option>
                {% endif %}
            {% endfor %}
        </optgroup>
        <optgroup label="Servicios con cita">
            {% for service in services %}
                {% if service.attention_type == 'cita' %}
                    <option value="{{ service.id }}">{{ service.name }}</option>
                {% endif %}
            {% endfor %}
        </optgroup>
    </select>

    <label for="vet_id">Veterinario:</label>
    <select id="vet_id" name="vet_id" required>
        {% for vet in vets %}
        <option value="{{ vet.id }}">{{ vet.username }}</option>
        {% endfor %}
    </select>

    <label for="date">Fecha:</label>
    <input type="date" id="date" name="date" required>

    <label for="time">Hora:</label>
    <input type="time" id="time" name="time" required>

    <button type="submit">Agendar cita</button>
</form>
{% endblock %}